/* css/settings-screen.css
   Settings UI — horizontal theme gallery (scroll) + improved layout
   Uses your global theme tokens from css/theme.css
*/

/* IMPORTANT: do not add outer padding to .settings-content —
   parent [data-screen] supplies padding via --wrap-padding (same as home-content) */

.settings-wrap {
  min-height: 100%;
  padding: 0; /* parent supplies spacing */
  background: var(--bg-main);
  color: var(--text-main);
  box-sizing: border-box;
  display: block;
}

/* match home-content layout */
.settings-content {
  padding: var(--wrap-padding);
  padding-bottom: calc(var(--wrap-padding) + 20px);
  color: var(--text-main);
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Header */
.settings-header { margin-bottom: 14px; }
.settings-header .title { font-size: 22px; font-weight: 700; color: var(--text-main); }
.settings-header .meta { margin-top: 6px; font-size: 13px; color: var(--text-sub); }

/* Card */
.card {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid var(--border-subtle, rgba(255,255,255,0.05));
  border-radius: var(--radius-medium, 14px);
  padding: 12px;
  margin-bottom: 12px;
  box-shadow: var(--shadow-1, 0 4px 12px rgba(0,0,0,0.35));
}

/* Titles */
.card-title { font-weight:700; font-size:14px; color:var(--text-main); margin-bottom:6px; }
.card-sub { color:var(--text-sub); font-size:13px; margin-bottom:8px; }

/* card rows */
.card-row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:8px 0; }
.card-row.border-top { border-top: 1px solid rgba(255,255,255,0.03); margin-top:8px; padding-top:12px; }

/* row text */
.row-info .row-title { font-weight:700; font-size:14px; }
.row-info .row-sub { font-size:13px; color:var(--text-sub); margin-top:4px; }

/* actions */
.row-actions { display:flex; gap:8px; align-items:center; }

/* buttons */
.btn {
  border-radius:10px;
  padding:8px 12px;
  min-width:64px;
  border:0;
  cursor:pointer;
  font-weight:700;
  font-size:13px;
  background:transparent;
  color:var(--text-main);
  box-sizing:border-box;
}
.btn:hover { opacity:0.95; transform:translateY(-1px); transition: all 0.12s ease; }
.btn-ghost { background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.04); }
.btn-acc { background: linear-gradient(135deg,#2563eb,#06b6d4); color:#fff; box-shadow: 0 8px 22px rgba(37,99,235,0.12); border: none; }
.btn-danger { background: rgba(255,40,40,0.10); color: #ff9b9b; border: 1px solid rgba(255,40,40,0.06); }
.wide-btn { width:100%; text-align:center; }

/* categories */
.cat-mgr-list { display:flex; flex-direction:column; gap:10px; margin-top:6px; }
.cat-row { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:10px; border-radius:10px; background: rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.03); }
.cat-main { display:flex; gap:12px; align-items:center; flex:1; }
.emoji-btn { font-size:18px; padding:8px; border-radius:8px; background: rgba(255,255,255,0.03); border:1px solid rgba(255,255,255,0.04); cursor:pointer; }
.cat-info { display:flex; flex-direction:column; gap:4px; }
.cat-name { font-weight:700; color:var(--text-main); }
.cat-subtext { font-size:13px; color:var(--text-sub); }

/* subpanel */
.subpanel { margin-top:8px; padding-top:10px; display:none; }
.subpanel.open { display:block; }
.sub-list { display:flex; flex-direction:column; gap:8px; }
.sub-row { display:flex; justify-content:space-between; align-items:center; padding:8px 0; border-bottom:1px solid rgba(255,255,255,0.03); }
.sub-left { color:var(--text-main); font-size:13px; }
.sub-actions { display:flex; gap:8px; }

/* empty */
.empty { color: rgba(255,255,255,0.45); font-style:italic; padding:8px; }

/* toast */
.settings-toast {
  position: fixed;
  left: 50%;
  bottom: calc(var(--tabbar-height, 76px) + 18px);
  transform: translateX(-50%) translateY(6px);
  background: rgba(0,0,0,0.7);
  color: #fff;
  padding: 8px 12px;
  border-radius: 10px;
  opacity: 0;
  transition: opacity .18s ease, transform .18s ease;
  z-index: 10000;
  font-size: 13px;
  pointer-events: none;
}
.settings-toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

/* ===========================
   THEME GALLERY (HORIZONTAL)
   =========================== */

.theme-gallery {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  padding-bottom: 6px;
  -webkit-overflow-scrolling: touch;
}

/* card */
.theme-card {
  --w: 124px;
  width: var(--w);
  min-width: var(--w);
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.04);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  padding: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.36);
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:stretch;
  justify-content:flex-start;
  position:relative;
  cursor:pointer;
}

/* preview box (uses duplicated values to emulate theme) */
.theme-preview {
  height: 68px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.03);
  overflow: hidden;
  background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  position: relative;
}

/* small accent band at bottom of preview */
.theme-preview::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 8px;
  background: linear-gradient(90deg,#2563eb,#06b6d4);
}

/* label row */
.theme-label {
  font-size: 13px;
  font-weight: 700;
  color: var(--text-main);
  text-align: left;
}

/* selected */
.theme-card[aria-pressed="true"] {
  box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 18px rgba(37,99,235,0.06);
  border-color: rgba(255,255,255,0.08);
}
.theme-card .theme-check {
  position: absolute;
  right: 10px;
  top: 8px;
  font-weight: 700;
  color: var(--text-main);
}

/* Theme-specific previews — reproduce approximate accents/backgrounds */
.theme-preview[data-theme="midnight"] { background: linear-gradient(180deg,#071124,#081427); }
.theme-preview[data-theme="midnight"]::after { background: linear-gradient(90deg,#2563eb,#06b6d4); }

.theme-preview[data-theme="aqua"] { background: linear-gradient(180deg,#022022,#042c2e); }
.theme-preview[data-theme="aqua"]::after { background: linear-gradient(90deg,#2dd4bf,#06b6d4); }

.theme-preview[data-theme="purple"] { background: linear-gradient(180deg,#150416,#21102a); }
.theme-preview[data-theme="purple"]::after { background: linear-gradient(90deg,#a855f7,#8b5cf6); }

.theme-preview[data-theme="forest"] { background: linear-gradient(180deg,#071410,#0b261f); }
.theme-preview[data-theme="forest"]::after { background: linear-gradient(90deg,#10b981,#2dd4bf); }

.theme-preview[data-theme="ember"] { background: linear-gradient(180deg,#2a0b0b,#1a0707); }
.theme-preview[data-theme="ember"]::after { background: linear-gradient(90deg,#ef4444,#f97316); }

.theme-preview[data-theme="sunset"] { background: linear-gradient(180deg,#20100a,#2b1307); }
.theme-preview[data-theme="sunset"]::after { background: linear-gradient(90deg,#f59e0b,#fb923c); }
.theme-preview[data-theme="cosmic"] {
  background: linear-gradient(180deg, #070414, #100A22);
}
.theme-preview[data-theme="cosmic"]::after {
  background: linear-gradient(90deg, #6D5DFB, #8E7CFF);
}
.theme-preview[data-theme="neon"] {
  background: linear-gradient(180deg, #04000A, #0A0120);
}
.theme-preview[data-theme="neon"]::after {
  background: linear-gradient(90deg, #D946EF, #F472B6);
}
.theme-preview[data-theme="tealglass"] {
  background: linear-gradient(180deg, #031716, #072322);
}
.theme-preview[data-theme="tealglass"]::after {
  background: linear-gradient(90deg, #14B8A6, #2DD4BF);
}
.theme-preview[data-theme="onyx"] {
  background: linear-gradient(180deg, #090909, #111111);
}
.theme-preview[data-theme="onyx"]::after {
  background: linear-gradient(90deg, #FBBF24, #FCD34D);
}
.theme-preview[data-theme="crimsonnight"] {
  background: linear-gradient(180deg, #140306, #1F070C);
}
.theme-preview[data-theme="crimsonnight"]::after {
  background: linear-gradient(90deg, #F43F5E, #FB7185);
}
.theme-preview[data-theme="storm"] {
  background: linear-gradient(180deg, #020A14, #071423);
}
.theme-preview[data-theme="storm"]::after {
  background: linear-gradient(90deg, #38BDF8, #7DD3FC);
}


/* horizontal scrollbar styling small */
.theme-gallery::-webkit-scrollbar { height: 8px; }
.theme-gallery::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.06); border-radius: 4px; }

/* responsive tweaks */
@media (max-width: 420px) {
  .theme-card { --w: 108px; width: var(--w); min-width: var(--w); padding: 8px; }
  .theme-preview { height: 60px; }
}
